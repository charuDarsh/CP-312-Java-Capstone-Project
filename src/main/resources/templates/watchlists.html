<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Watchlists</title>
    <link rel="stylesheet" th:href="@{/css/watchlists.css}" />
    <script>
        function confirmDelete(event) {
            const confirmation = confirm("Are you sure you want to delete this watchlist?");
            if (!confirmation) {
                event.preventDefault(); // Prevent form submission if the user cancels
            }
        }
    </script>
</head>
<body>
<div class="container">
    <h1>Watchlists</h1>
    <p class="user-info">User ID: <span th:text="${userId}"></span></p>
    <form th:action="@{/watchlists/create}" method="post">
        <input type="hidden" name="userId" th:value="${userId}"/>
        <input type="text" name="name" placeholder="New Watchlist" required/>
        <button type="submit">Create Watchlist</button>
    </form>

    <h2>Your Watchlists:</h2>
    <ul>
        <li th:each="watchlist : ${watchlists}">
            <span class="watchlist-name" th:text="${watchlist.name}">Watchlist Name</span>
<!--            <a th:href="@{/stocks/{watchlistId}(watchlistId=${watchlist.id})}">View Stocks</a>-->
            <a th:href="@{/stocks/{userId}/{watchlistId}(userId=${userId},watchlistId=${watchlist.id})}">View Stocks</a>
            <form th:action="@{/watchlists/{id}(id=${watchlist.id})}" method="post" class="delete-form" onsubmit="confirmDelete(event)">
                <input type="hidden" name="_method" value="delete"/>
                <input type="hidden" name="userId" th:value="${userId}"/>-
                <button type="submit" class="delete-button">Delete</button>
            </form>
        </li>
    </ul>

</div>
</body>
</html>


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <title>Watchlists</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>Watchlists</h1>-->
<!--<p>User ID: <span th:text="${userId}"></span></p>-->
<!--<form th:action="@{/watchlists/create}" method="post">-->
<!--    <input type="hidden" name="userId" th:value="${userId}"/>-->
<!--    <input type="text" name="name" placeholder="New Watchlist" required/>-->
<!--    <button type="submit">Create Watchlist</button>-->
<!--</form>-->

<!--<h2>Your Watchlists:</h2>-->
<!--<ul>-->
<!--    <li th:each="watchlist : ${watchlists}">-->
<!--        <span th:text="${watchlist.name}">Watchlist Name</span>-->
<!--        <a th:href="@{/stocks/{watchlistId}(watchlistId=${watchlist.id})}">View Stocks</a>-->
<!--        <form th:action="@{/watchlists/{id}(id=${watchlist.id})}" method="post" style="display:inline;">-->
<!--            <input type="hidden" name="_method" value="delete"/>-->
<!--            <button type="submit">Delete</button>-->
<!--        </form>-->
<!--    </li>-->
<!--</ul>-->
<!--</body>-->
<!--</html>-->


